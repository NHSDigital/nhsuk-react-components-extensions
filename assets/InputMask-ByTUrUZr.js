import{r as o,R as ze}from"./iframe-DgvrvAm1.js";import{c as J}from"./index-BPNpBEw-.js";function D(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(s[t[i]]=e[t[i]]);return s}var je={exports:{}},ce={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve;function Ue(){if(Ve)return ce;Ve=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(t,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var b in i)b!=="key"&&(l[b]=i[b])}else l=i;return i=l.ref,{$$typeof:e,type:t,key:u,ref:i!==void 0?i:null,props:l}}return ce.Fragment=n,ce.jsx=s,ce.jsxs=s,ce}var Te;function Ye(){return Te||(Te=1,je.exports=Ue()),je.exports}var h=Ye();const Fe=o.forwardRef((e,n)=>{const{headingLevel:s="h3",children:t}=e,i=D(e,["headingLevel","children"]);let l=s;return["h1","h2","h3","h4","h5","h6"].includes(l.toLowerCase())||(console.error(`HeadingLevel: Invalid headingLevel prop: ${l}`),l="h3"),h.jsx(l,Object.assign({ref:n},i,{children:t}))});Fe.displayName="Heading.Level";const ke=e=>{var{className:n,visuallyHiddenText:s="Error",children:t}=e,i=D(e,["className","visuallyHiddenText","children"]);return!t||typeof t!="string"?null:h.jsx("span",Object.assign({className:J("nhsuk-error-message",n)},i,{children:s?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"nhsuk-u-visually-hidden",children:`${s}:`})," ",t]}):h.jsx(h.Fragment,{children:t})}))};ke.displayName="ErrorMessage";const Re=e=>{var{className:n,children:s,isPageHeading:t,headingLevel:i="h1",size:l}=e,u=D(e,["className","children","isPageHeading","headingLevel","size"]);return s?h.jsx("legend",Object.assign({className:J("nhsuk-fieldset__legend",{[`nhsuk-fieldset__legend--${l}`]:l},n)},u,{children:t?h.jsx(Fe,{className:"nhsuk-fieldset__heading",headingLevel:i,children:s}):s})):null};Re.displayName="Legend";const _e=e=>{var{children:n,className:s}=e,t=D(e,["children","className"]);return n?h.jsx("fieldset",Object.assign({className:J("nhsuk-fieldset",s)},t,{children:n})):null};_e.displayName="Fieldset";const Ge=Object.assign(_e,{Legend:Re}),we=e=>{var{children:n,className:s}=e,t=D(e,["children","className"]);return n?h.jsx("div",Object.assign({className:J("nhsuk-hint",s)},t,{children:n})):null};we.displayName="HintText";const Se=e=>{var{className:n,size:s}=e,t=D(e,["className","size"]);return h.jsx("label",Object.assign({className:J("nhsuk-label",{[`nhsuk-label--${s}`]:s},n)},t))},ve=e=>{var{isPageHeading:n,children:s}=e,t=D(e,["isPageHeading","children"]);return s?n?h.jsx("h1",{className:"nhsuk-label-wrapper",children:h.jsx(Se,Object.assign({},t,{children:s}))}):h.jsx(Se,Object.assign({},t,{children:s})):null};ve.displayName="Label";const Je=(e=5)=>(Math.random()+1).toString(36).substring(2,e+2),We=e=>{const n=Je();return e?`${e}_${n}`:n},Xe=We,Ze=o.createContext({passError:()=>{},registerComponent:()=>{}}),Qe=o.createContext({disableErrorFromComponents:!1}),Ke=()=>o.useContext(Qe),en=e=>{const{children:n,hint:s,label:t,id:i,legend:l,legendProps:u,fieldsetProps:b,labelProps:p,error:f,hintProps:w,errorProps:R,formGroupProps:C,inputType:F,name:q,"aria-describedby":oe}=e,ne=D(e,["children","hint","label","id","legend","legendProps","fieldsetProps","labelProps","error","hintProps","errorProps","formGroupProps","inputType","name","aria-describedby"]),[x]=o.useState(Xe(F)),{registerComponent:M,passError:$}=o.useContext(Ze),{disableErrorFromComponents:_}=Ke(),E=i??x,te=`${E}--label`,re=`${E}--error-message`,W=`${E}--hint`,pe=!!(l||u||b),se=!_&&!!f,B=oe?[oe]:[];s&&B.push(W),se&&B.push(re);const ie=Object.assign({error:f,name:q??E,id:E},ne);return o.useEffect(()=>($(E,_?!1:!!f),()=>$(E,!1)),[_,E,f,$]),o.useEffect(()=>(M(E),()=>M(E,!0)),[E,M]),h.jsx("div",Object.assign({},C,{className:J("nhsuk-form-group",{"nhsuk-form-group--error":se},C?.className),children:pe?h.jsxs(Ge,Object.assign({},b,{"aria-describedby":B.join(" ")||void 0,children:[h.jsx(Re,Object.assign({},u,{children:l})),h.jsx(we,Object.assign({id:W},w,{children:s})),h.jsx(ke,Object.assign({id:re},R,{children:f})),n(ie)]})):h.jsxs(h.Fragment,{children:[h.jsx(ve,Object.assign({id:te,htmlFor:E},p,{children:t})),h.jsx(we,Object.assign({id:W},w,{children:s})),h.jsx(ke,Object.assign({id:re},R,{children:f})),n(Object.assign(Object.assign({},ie),{"aria-describedby":B.join(" ")||void 0}))]})}))},nn=({prefix:e})=>h.jsx("div",{className:"nhsuk-input__prefix","aria-hidden":"true",children:e}),tn=({suffix:e})=>h.jsx("div",{className:"nhsuk-input__suffix","aria-hidden":"true",children:e}),De=o.forwardRef((e,n)=>h.jsx(en,Object.assign({},e,{inputType:"input",children:s=>{var{width:t,className:i,error:l,type:u="text",prefix:b,suffix:p}=s,f=D(s,["width","className","error","type","prefix","suffix"]);const w=h.jsx("input",Object.assign({className:J("nhsuk-input",{[`nhsuk-input--width-${t}`]:t},{"nhsuk-input--error":l},i),ref:n,type:u},f));return b||p?h.jsxs("div",{className:"nhsuk-input__wrapper",children:[b?h.jsx(nn,{prefix:b}):null,w,p?h.jsx(tn,{suffix:p}):null]}):w}})));De.displayName="TextInput";const rn="_",sn={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function ln(e,n,s){if(n===void 0&&(n=rn),s==null&&(s=sn),!e||typeof e!="string")return{maskChar:n,charsRules:s,mask:null,prefix:null,lastEditablePos:null,permanents:[]};let t="",i="";const l=[];let u=!1,b=null;return e.split("").forEach(function(p){!u&&p==="\\"?u=!0:(u||!s[p]?(l.push(t.length),t.length===l.length-1&&(i+=p)):b=t.length+1,t+=p,u=!1)}),{maskChar:n,charsRules:s,prefix:i,mask:t,lastEditablePos:b,permanents:l}}function an(){const e=new RegExp("windows","i"),n=new RegExp("firefox","i"),s=new RegExp("android","i"),t=navigator.userAgent;return!e.test(t)&&!n.test(t)&&s.test(t)}function cn(){const e=new RegExp("windows","i"),n=new RegExp("phone","i"),s=navigator.userAgent;return e.test(s)&&n.test(s)}function on(){const e=new RegExp("windows","i"),n=new RegExp("firefox","i"),s=new RegExp("android","i"),t=navigator.userAgent;return!e.test(t)&&n.test(t)&&s.test(t)}function L(e,n){return e.permanents.indexOf(n)!==-1}function ge(e,n,s){const t=e.mask,i=e.charsRules;if(!s||!t)return!1;if(L(e,n))return t[n]===s;const l=t[n],u=i[l];return new RegExp(u).test(s)}function Pe(e,n){return n.split("").every(function(s,t){return L(e,t)||!ge(e,t,s)})}function ee(e,n){const s=e.maskChar,t=e.prefix;if(!s){for(;t&&n.length>t.length&&L(e,n.length-1);)n=n.slice(0,n.length-1);return n.length}let i=t?.length||0;for(let l=n.length;l>=(t?.length||0);l--){const u=n[l];if(!L(e,l)&&ge(e,l,u)){i=l+1;break}}return i}function un(e,n){return ee(e,n)===(e.mask?.length||0)}function Y(e,n){const s=e.maskChar,t=e.mask,i=e.prefix;if(!t)return n;if(!s){for(n=G(e,"",n,0),i&&n.length<i.length&&(n=i);n.length<t.length&&L(e,n.length);)n+=t[n.length];return n}if(n){let l="";for(let u=0;u<t.length;u++)L(e,u)?l+=t[u]:l+=s;return G(e,l,n,0)}for(let l=0;l<t.length;l++)L(e,l)?n+=t[l]:n+=s;return n}function K(e,n,s,t){const i=s+t,l=e.maskChar,u=e.mask,b=e.prefix,p=n.split("");if(!l){for(let f=i;f<p.length;f++)L(e,f)&&(p[f]="");return s=Math.max(b?.length||0,s),p.splice(s,i-s),n=p.join(""),Y(e,n)}return p.map(function(f,w){return w<s||w>=i?f:L(e,w)&&u?u[w]:l}).join("")}function G(e,n,s,t){const i=e.mask,l=e.maskChar,u=e.prefix,b=s.split(""),p=un(e,n),f=function(C,F){return!L(e,C)||i&&F===i[C]},w=function(C,F){return!l||!L(e,F)||C!==l};return!l&&i&&t>n.length&&(n+=i.slice(n.length,t)),b.every(function(R){for(;!f(t,R);){if(t>=n.length&&i&&(n+=i[t]),!w(R,t))return!0;if(t++,i&&t>=i.length)return!1}return ge(e,t,R)||R===l?(t<n.length?l||p||t<(u?.length||0)?n=n.slice(0,t)+R+n.slice(t+1):(n=n.slice(0,t)+R+n.slice(t),n=Y(e,n)):l||(n+=R),t++,i?t<i.length:!1):!0}),n}function fn(e,n,s){const t=e.mask,i=e.maskChar,l=n.split(""),u=s,b=function(f,w){return!L(e,f)||t&&w===t[f]};return l.every(function(p){for(;!b(s,p);)if(s++,t&&s>=t.length)return!1;return(ge(e,s,p)||p===i)&&s++,t?s<t.length:!1}),s-u}function ye(e){const n=window;return(window.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(){return setTimeout(e,0)})(e)}const gn=({mask:e,maskChar:n,formatChars:s,defaultValue:t="",value:i,alwaysShowMask:l=!1,inputRef:u,disabled:b=!1,readOnly:p,onChange:f,onKeyDown:w,onPaste:R,onMouseDown:C,onFocus:F,onBlur:q,...oe})=>{const ne=o.useRef(null),[x,M]=o.useState(""),$=o.useRef(null),_=o.useRef(!1),E=o.useRef(null),te=o.useRef(null),re=o.useRef(!1),W=o.useRef(!1),pe=o.useRef(!1),se=o.useRef(0),B=o.useRef(0),ie=o.useRef(0),X=i!=null,c=o.useMemo(()=>ln(e,n,s),[e,n,s]),ue=o.useCallback(r=>!r&&r!==0?"":r+"",[]),Ce=o.useCallback(r=>typeof HTMLElement=="object"?r instanceof HTMLElement:typeof r=="object"&&r!==null&&"nodeType"in r&&r.nodeType===1&&"nodeName"in r&&typeof r.nodeName=="string",[]),T=o.useCallback(()=>{const r=ne.current;return r&&Ce(r)?r:null},[Ce]),S=o.useCallback(()=>{const r=T();return r?r.value:null},[T]),I=o.useCallback(r=>{const a=T();a&&(M(r),a.value=r)},[T]),Ne=o.useCallback(r=>{for(let a=r;a>=0;--a)if(!L(c,a))return a;return null},[c]),v=o.useCallback(r=>{const a=c.mask;if(!a)return null;for(let d=r;d<a.length;++d)if(!L(c,d))return d;return null},[c]),A=o.useCallback((r,a=0)=>{const d=T();if(!d)return;const k=r+a;if("selectionStart"in d&&"selectionEnd"in d)d.selectionStart=r,d.selectionEnd=k;else{const m=d;if(m.createTextRange){const N=m.createTextRange();N.collapse(!0),N.moveStart("character",r),N.moveEnd("character",k-r),N.select()}}},[T]),le=o.useCallback(()=>{const r=ee(c,x),a=v(r);a!==null&&(A(a,0),ye(()=>{A(a,0)}),$.current=a)},[c,x,v,A]),O=o.useCallback(()=>{const r=T();let a=0,d=0;if(r&&"selectionStart"in r&&"selectionEnd"in r)a=r.selectionStart||0,d=r.selectionEnd||0;else if(r){const k=document;if(k.selection){const m=k.selection.createRange();m&&m.parentElement()===r&&"value"in r&&r.value&&(a=-m.moveStart("character",-r.value.length),d=-m.moveEnd("character",-r.value.length))}}return{start:a,end:d,length:d-a}},[T]),fe=o.useCallback(r=>{A(r,0),ye(()=>{A(r,0)}),$.current=r},[A]),Le=o.useCallback(()=>_.current,[]);o.useEffect(()=>{let r=X?ue(i):t||"";c.mask&&(l||r)&&(r=Y(c,r)),M(r)},[e,n,s,i,t,l,X,ue]),o.useEffect(()=>{re.current=an(),W.current=cn(),pe.current=on(),c.mask&&S()!==x&&I(x)},[c.mask,S,x,I]),o.useEffect(()=>{c.mask&&S()!==x&&I(x)},[c.mask,S,x,I]),o.useEffect(()=>{if(!c.mask){E.current=null,$.current=null;return}const r=l||Le();let a=X?ue(i):x;c.mask&&(a||r)&&(a=Y(c,a)),c.mask&&Pe(c,a)&&!r&&(!X||!i)&&(a=""),a!==x&&M(a)},[e,n,s,i,l,X,ue,Le]);const Ie=o.useCallback((r,a,d,k)=>{let m=d.start;d.length&&(r=K(c,r,m,d.length));const N=fn(c,r,m);r=G(c,r,a,m),m+=N,m=v(m)||m,I(r),k&&f&&f(k),fe(m)},[c,v,I,f,fe]),Me=o.useCallback(r=>{E.current=null,w&&w(r);const{key:a,ctrlKey:d,metaKey:k,defaultPrevented:m}=r;if(!(d||k||m)&&(a==="Backspace"||a==="Delete")){const N=O();if(!(a==="Backspace"&&N.end>0||a==="Delete"&&x.length>N.start))return;E.current={key:a,selection:O()}}},[w,O,x]),Ae=o.useCallback(r=>{const a=te.current,{mask:d,maskChar:k,lastEditablePos:m,prefix:N}=c,z=S();if(!z||!d)return;if(a){te.current=null,Ie(a.value,z,a.selection,r);return}const de=x;let j=z;const me=T();try{me&&typeof me.matches=="function"&&me.matches(":-webkit-autofill")}catch{}const U=O();let g=U.end;const xe=d.length,he=j.length,be=de.length,Q=N?.length||0,ae=m||0;let V,H;if(E.current){const P=E.current.key==="Delete";j=x;const y=E.current.selection;if(g=y.start,E.current=null,y.length)j=K(c,j,y.start,y.length);else if(y.start<Q||!P&&y.start===Q)g=Q;else{const Ee=P?v(g):Ne(g-1);Ee!==null&&(k||(j=j.substring(0,ee(c,j))),j=K(c,j,Ee,1),g=Ee)}}else if(he>be){const P=he-be,y=U.end-P;H=j.substring(y,y+P),y<ae&&(P!==1||H!==d[y])?g=v(y)||y:g=y,j=j.substring(0,y)+j.substring(y+P),V=K(c,j,y,xe-y),V=G(c,V,H,g),j=G(c,de,H,g),P!==1||g>=Q&&g<ae?(g=Math.max(ee(c,V),g),g<ae&&(g=v(g)||g)):g<ae&&g++}else if(he<be){const P=xe-he;H=j.substring(0,U.end);const y=H===de.substring(0,U.end);V=K(c,de,U.end,P),k&&(j=G(c,V,H,0)),V=K(c,V,U.end,xe-U.end),V=G(c,V,H,0),y?g<Q&&(g=Q):(g=Math.max(ee(c,V),g),g<ae&&(g=v(g)||g))}j=Y(c,j),I(j),f&&f(r),W.current?ye(()=>{A(g,0)}):fe(g)},[c,S,x,T,O,Ie,v,Ne,I,f,A,fe]),He=o.useCallback(r=>{if(_.current=!0,c.mask)if(x)ee(c,x)<c.mask.length&&le();else{const{prefix:a}=c,d=Y(c,a||""),k=Y(c,d),m=k!==r.target.value;m&&(r.target.value=k),M(k),m&&f&&f(r),le()}F&&F(r)},[c,x,f,le,F]),qe=o.useCallback(r=>{if(_.current=!1,c.mask&&!l&&Pe(c,x)){const d=S()!=="";d&&I(""),d&&f&&f(r)}q&&q(r)},[c,l,x,S,I,f,q]),$e=o.useCallback(r=>{if(!_.current&&document.addEventListener){se.current=r.clientX,B.current=r.clientY,ie.current=new Date().getTime();const a=d=>{if(document.removeEventListener("mouseup",a),!_.current)return;const k=Math.abs(d.clientX-se.current),m=Math.abs(d.clientY-B.current),N=Math.max(k,m),z=new Date().getTime()-ie.current;(N<=10&&z<=200||N<=5&&z<=300)&&le()};document.addEventListener("mouseup",a)}C&&C(r)},[le,C]),Be=o.useCallback(r=>{if(R&&R(r),!r.defaultPrevented){const a=S();a!==null&&(te.current={value:a,selection:O()},I(""))}},[R,S,O,I]),Oe=o.useCallback(r=>{if(ne&&(ne.current=r),u){if(typeof u=="function")u(r);else if(u&&"current"in u){const a=u;a.current=r}}},[u]),Z={...oe,onFocus:He,onBlur:qe};return c.mask&&!b&&!p&&(Z.onChange=Ae,Z.onKeyDown=Me,Z.onPaste=Be,Z.onMouseDown=$e),c.mask&&X&&(Z.value=x),ze.createElement(De,{ref:Oe,...Z})};try{InputMask.displayName="InputMask",InputMask.__docgenInfo={description:"",displayName:"InputMask",props:{mask:{defaultValue:null,description:"",name:"mask",required:!1,type:{name:"string"}},maskChar:{defaultValue:null,description:"",name:"maskChar",required:!1,type:{name:"string"}},formatChars:{defaultValue:null,description:"",name:"formatChars",required:!1,type:{name:"Record<string, string>"}},alwaysShowMask:{defaultValue:{value:"false"},description:"",name:"alwaysShowMask",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | null"}},defaultValue:{defaultValue:{value:""},description:"",name:"defaultValue",required:!1,type:{name:"string | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}}}}}catch{}export{gn as I,D as _,h as j};
